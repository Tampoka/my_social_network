(this.webpackJsonpmy_social_network=this.webpackJsonpmy_social_network||[]).push([[0],{13:function(e,t,s){e.exports={usersContainer:"Users_usersContainer__2ul14",page:"Users_page__3_87d",activePage:"Users_activePage__2u_Ul",user:"Users_user__2jCuU",userPhoto:"Users_userPhoto__3SQpR",avatar:"Users_avatar__38AtL",status:"Users_status__2d0o4",userName:"Users_userName__1nlAm",userLocation:"Users_userLocation__-BNuJ"}},15:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__15v-t",dialogItems:"Dialogs_dialogItems__1dXZ2",dialog:"Dialogs_dialog__2MkRK",messages:"Dialogs_messages__2g7Bj",active:"Dialogs_active___A4O3",message:"Dialogs_message__17PX9",sendMessage:"Dialogs_sendMessage___xD_4"}},23:function(e,t,s){e.exports={avatarContainer:"Friends_avatarContainer__2hxxm",avatar:"Friends_avatar__1Svic",active:"Friends_active__3fA9r",userName:"Friends_userName__2TtBv"}},31:function(e,t,s){e.exports={avatar:"ProfileInfo_avatar__3HJco",descriptionBlock:"ProfileInfo_descriptionBlock__Zh1WA"}},32:function(e,t,s){e.exports={postsBlock:"MyPosts_postsBlock__VkIMX",posts:"MyPosts_posts__2LCKN"}},33:function(e,t,s){e.exports={item:"Post_item__VpuLr"}},34:function(e,t,s){e.exports={header:"Header_header__SVvlg",loginBlock:"Header_loginBlock__1jZ8_"}},6:function(e,t,s){e.exports={navContainer:"Nav_navContainer__2S3Ft",nav:"Nav_nav__cuals",item:"Nav_item__2k723",active:"Nav_active__2ew0P"}},70:function(e,t,s){},77:function(e,t,s){"use strict";s.r(t);var n=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,78)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),i(e),r(e)}))},a=s(14),i=s(21),r=s(2),c=s(43),o=s.n(c).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"b22dc3a8-54db-4578-99ea-53ac8029e06a"}}),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return o.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},l=function(e){return o.post("follow/".concat(e)).then((function(e){return e.data}))},d=function(e){return o.delete("follow/".concat(e)).then((function(e){return e.data}))},j=function(e){return o.get("profile/".concat(e)).then((function(e){return e.data}))},b=function(){return o.get("auth/me").then((function(e){return e.data}))},g="ADD-POST",h="UPDATE-NEW-POST-TEXT",p="SET-USER-PROFILE",O={posts:[{id:1,message:"How are you?",likesCount:19},{id:2,message:"Where have you been?",likesCount:3},{id:3,message:"Pics from our party yesterday",likesCount:8},{id:4,message:"How important is to be proactive?",likesCount:27},{id:5,message:"What are your goals for today, for this week?",likesCount:54}],newPostText:"Hello!",profile:null},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:var s={id:6,message:e.newPostText,likesCount:0};return Object(r.a)(Object(r.a)({},e),{},{posts:[].concat(Object(i.a)(e.posts),[s]),newPostText:""});case h:return Object(r.a)(Object(r.a)({},e),{},{newPostText:t.newText});case p:return Object(r.a)(Object(r.a)({},e),{},{profile:t.profile});default:return e}},m="ADD-MESSAGE",x="UPDATE-NEW-MESSAGE-TEXT",v={dialogs:[{id:1,name:"Dimych"},{id:2,name:"Victor"},{id:3,name:"Bob"},{id:4,name:"John"},{id:5,name:"Anna"},{id:6,name:"Dennis"}],messages:[{id:1,message:"How are you?"},{id:2,message:"Are you busy now?"},{id:3,message:"Today I have a party:)"},{id:4,message:"Can you help me with code review today?"},{id:5,message:"Are you going to gim today?"}],newMessageText:"How have you been?"},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:var s={id:6,message:e.newMessageText};return Object(r.a)(Object(r.a)({},e),{},{newMessageText:"",messages:[].concat(Object(i.a)(e.messages),[s])});case x:return Object(r.a)(Object(r.a)({},e),{},{newMessageText:t.newText});default:return e}},w={friends:[{id:1,name:"Bob",img:"https://images.unsplash.com/photo-1600603955656-e3c9e1ad7f64?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=387&q=80",isOnline:!0},{id:2,name:"Kate",img:"https://images.unsplash.com/photo-1491349174775-aaafddd81942?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=387&q=80",isOnline:!1},{id:3,name:"John",img:"https://images.unsplash.com/photo-1599566150163-29194dcaad36?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=387&q=80",isOnline:!0}]},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;return e},N=s(44),y="FOLLOW",C="UNFOLLOW",M="SET_USERS",T="SET_CURRENT_PAGE",k="SET_TOTAL_USERS_COUNT",S="TOGGLE_IS_FETCHING",U="TOGGLE_IS_FOLLOWING_PROGRESS",A={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[20416]},I=function(e){return{type:y,userId:e}},E=function(e){return{type:C,userId:e}},F=function(e){return{type:S,isFetching:e}},D=function(e,t){return{type:U,isFetching:e,userId:t}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(r.a)(Object(r.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(r.a)(Object(r.a)({},e),{},{followed:!0}):e}))});case C:return Object(r.a)(Object(r.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(r.a)(Object(r.a)({},e),{},{followed:!1}):e}))});case M:return Object(r.a)(Object(r.a)({},e),{},{users:t.users});case T:return Object(r.a)(Object(r.a)({},e),{},{currentPage:t.pageNumber});case k:return Object(r.a)(Object(r.a)({},e),{},{totalUsersCount:t.totalUsersCount});case S:return Object(r.a)(Object(r.a)({},e),{},{isFetching:t.isFetching});case U:return Object(r.a)(Object(r.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(i.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},L="SET-USER-DATA",H={userId:null,email:null,login:null,isAuth:!1},G=function(e,t,s){return{type:L,data:{userId:e,email:t,login:s}}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;return t.type===L?Object(r.a)(Object(r.a)(Object(r.a)({},e),t.data),{},{isAuth:!0}):e},W=s(45),V=Object(a.combineReducers)({profilePage:f,dialogsPage:_,sidebar:P,usersPage:B,auth:R}),J=Object(a.applyMiddleware)(W.a),z=Object(N.composeWithDevTools)(J),q=Object(a.createStore)(V,z);window.store=q;var X=q,K=s(26),Q=s.n(K),Y=s(5),Z=s(1),$=s.n(Z),ee=(s(70),s(6)),te=s.n(ee),se=s(23),ne=s.n(se),ae=s(0),ie=function(e){var t=e.state.friends.map((function(e){var t=e.isOnline?ne.a.active:"";return Object(ae.jsxs)("div",{children:[Object(ae.jsx)("div",{className:"".concat(ne.a.avatar," ").concat(t),children:Object(ae.jsx)("img",{src:e.img,alt:"User "+e.name})}),Object(ae.jsx)("div",{className:ne.a.userName,children:e.name})]},e.id)}));return Object(ae.jsx)("div",{children:Object(ae.jsx)("div",{className:ne.a.avatarContainer,children:t})})},re=function(e){return Object(ae.jsxs)("div",{className:te.a.navContainer,children:[Object(ae.jsx)("nav",{className:te.a.nav,children:Object(ae.jsxs)("ul",{children:[Object(ae.jsx)("li",{className:te.a.item,children:Object(ae.jsx)(Y.b,{to:"/profile",activeClassName:te.a.active,children:"Profile"})}),Object(ae.jsx)("li",{className:te.a.item,children:Object(ae.jsx)(Y.b,{to:"/dialogs",activeClassName:te.a.active,children:"Messages"})}),Object(ae.jsx)("li",{className:te.a.item,children:Object(ae.jsx)(Y.b,{to:"/users",activeClassName:te.a.active,children:"Users"})}),Object(ae.jsx)("li",{className:te.a.item,children:Object(ae.jsx)(Y.b,{to:"/news",activeClassName:te.a.active,children:"News"})}),Object(ae.jsx)("li",{className:te.a.item,children:Object(ae.jsx)(Y.b,{to:"/music",activeClassName:te.a.active,children:"Music"})}),Object(ae.jsx)("li",{className:te.a.item,children:Object(ae.jsx)(Y.b,{to:"/settings",activeClassName:te.a.active,children:"Settings"})})]})}),Object(ae.jsx)(ie,{state:e.state})]})},ce=s(4),oe=function(){return Object(ae.jsx)("div",{children:"News News News"})},ue=function(){return Object(ae.jsx)("div",{children:"Music"})},le=function(){return Object(ae.jsx)("div",{children:"Settings"})},de=s(7),je=s(47),be=["isAuth"],ge=function(e){return{isAuth:e.auth.isAuth}};function he(e){return Object(de.b)(ge)((function(t){var s=t.isAuth,n=Object(je.a)(t,be);return s?Object(ae.jsx)(e,Object(r.a)({},n)):Object(ae.jsx)(ce.a,{to:"/login"})}))}var pe=s(15),Oe=s.n(pe),fe=function(e){var t="/dialogs/"+e.id;return Object(ae.jsx)("div",{className:Oe.a.dialog,children:Object(ae.jsx)(Y.b,{to:t,activeClassName:Oe.a.active,children:e.name})})},me=function(e){return Object(ae.jsx)("div",{className:Oe.a.message,children:e.message})},xe=function(e){var t=e.dialogsPage.dialogs.map((function(e){return Object(ae.jsx)(fe,{name:e.name,id:e.id},e.id)})),s=e.dialogsPage.messages.map((function(e){return Object(ae.jsx)(me,{message:e.message},e.id)}));return Object(ae.jsxs)("div",{className:Oe.a.dialogs,children:[Object(ae.jsx)("div",{className:Oe.a.dialogItems,children:t}),Object(ae.jsxs)("div",{className:Oe.a.messages,children:[s,Object(ae.jsxs)("div",{className:Oe.a.sendMessage,children:[Object(ae.jsx)("div",{children:Object(ae.jsx)("textarea",{placeholder:"Write a message",onChange:function(t){var s=t.currentTarget.value;e.updateNewMessageText(s)},value:e.dialogsPage.newMessageText})}),Object(ae.jsx)("div",{children:Object(ae.jsx)("button",{onClick:function(){return e.addMessage()},children:"Send"})})]})]})]})},ve=Object(a.compose)(Object(de.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{addMessage:function(){e({type:m})},updateNewMessageText:function(t){e(function(e){return{type:x,newText:e}}(t))}}})),he)(xe),_e=s(16),we=s(17),Pe=s(19),Ne=s(18),ye=s(13),Ce=s.n(ye),Me=s.p+"static/media/user.d874ab6f.png",Te=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),s=[],n=1;n<=t;n++)s.push(n);return Object(ae.jsxs)("div",{className:Ce.a.usersContainer,children:[Object(ae.jsxs)("div",{className:Ce.a.users,children:[s.map((function(t){var s=Ce.a.page+" "+(e.currentPage===t?Ce.a.activePage:"");return Object(ae.jsx)("span",{className:s,onClick:function(){return e.onPageChanged(t)},children:t})})),e.users.map((function(t){return Object(ae.jsxs)("div",{className:Ce.a.user,children:[Object(ae.jsxs)("div",{className:Ce.a.avatar,children:[Object(ae.jsx)(Y.b,{to:"/profile/"+t.id,children:Object(ae.jsx)("div",{className:Ce.a.userPhoto,children:Object(ae.jsx)("img",{src:t.photos.small?t.photos.small:Me,alt:"user"})})}),Object(ae.jsx)("div",{children:t.followed?Object(ae.jsx)("button",{onClick:function(){e.unFollow(t.id)},disabled:e.followingInProgress.some((function(e){return e===t.id})),children:"UnFollow"}):Object(ae.jsx)("button",{onClick:function(){e.follow(t.id)},disabled:e.followingInProgress.some((function(e){return e===t.id})),children:"Follow"})})]}),Object(ae.jsxs)("div",{className:Ce.a.userInfo,children:[Object(ae.jsx)("div",{className:Ce.a.userName,children:t.name}),Object(ae.jsx)("div",{className:Ce.a.status,children:t.status})]}),Object(ae.jsxs)("div",{className:Ce.a.userLocation,children:[Object(ae.jsx)("span",{children:"u.location.country"}),Object(ae.jsx)("span",{children:"u.location.city"})]})]},t.id)}))]}),Object(ae.jsx)("button",{children:"Show More"})]})},ke=s.p+"static/media/Interwind-1.5s-367px.59830f26.svg",Se=function(){return Object(ae.jsx)("div",{children:Object(ae.jsx)("img",{src:ke,alt:"loader",style:{width:"100%"}})})},Ue=function(e){Object(Pe.a)(s,e);var t=Object(Ne.a)(s);function s(){var e;Object(_e.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize),e.props.setCurrentPage(t)},e}return Object(we.a)(s,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(ae.jsxs)(ae.Fragment,{children:[this.props.isFetching?Object(ae.jsx)(Se,{}):null,Object(ae.jsx)(Te,Object(r.a)(Object(r.a)({},this.props),{},{onPageChanged:this.onPageChanged,users:this.props.usersPage.users}))]})}}]),s}($.a.Component),Ae={acceptFollow:I,acceptUnFollow:E,setCurrentPage:function(e){return{type:T,pageNumber:e}},getUsers:function(e,t){return function(s){s(F(!0)),u(e,t).then((function(e){var t;s(F(!1)),s((t=e.items,{type:M,users:t})),s({type:k,totalUsersCount:100})}))}},follow:function(e){return function(t){t(D(!0,e)),l(e).then((function(s){0===s.resultCode&&t(I(e)),t(D(!1,e))}))}},unFollow:function(e){return function(t){t(D(!0,e)),d(e).then((function(s){0===s.resultCode&&t(E(e)),t(D(!1,e))}))}}},Ie=Object(a.compose)(Object(de.b)((function(e){return{usersPage:e.usersPage,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingInProgress:e.usersPage.followingInProgress}}),Ae),he)(Ue),Ee=s(31),Fe=s.n(Ee),De=function(e){Object(Pe.a)(s,e);var t=Object(Ne.a)(s);function s(){var e;Object(_e.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={editMode:!1},e.activateEditMode=function(){e.setState({editMode:!0})},e.deactivateEditMode=function(){e.setState({editMode:!1})},e}return Object(we.a)(s,[{key:"render",value:function(){return Object(ae.jsxs)("div",{children:[!this.state.editMode&&Object(ae.jsx)("div",{children:Object(ae.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status})}),this.state.editMode&&Object(ae.jsx)("div",{children:Object(ae.jsx)("input",{onBlur:this.deactivateEditMode,autoFocus:!0,value:this.props.status})})]})}}]),s}($.a.Component),Be=De,Le=function(e){var t=e.profile;return t?Object(ae.jsxs)("div",{children:[Object(ae.jsx)("div",{children:Object(ae.jsx)("img",{src:"https://s27389.pcdn.co/wp-content/uploads/2019/12/why-network-segmentation-essential-enterprise-1024x440.jpeg",alt:""})}),Object(ae.jsxs)("div",{className:Fe.a.descriptionBlock,children:[Object(ae.jsx)("img",{className:Fe.a.avatar,src:t.photos.large?t.photos.large:Me,alt:"User avatar"+t.fullName}),Object(ae.jsx)(Be,{status:"Lets fly!!!"})]})]}):Object(ae.jsx)(Se,{})},He=s(32),Ge=s.n(He),Re=s(33),We=s.n(Re),Ve=function(e){return Object(ae.jsxs)("div",{className:We.a.posts,children:[Object(ae.jsxs)("div",{className:We.a.item,children:[Object(ae.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQvQ4aNPrI7S0ZcOI0gguCobJyLVkc7osIoaQ&usqp=CAU",alt:""}),e.message]}),Object(ae.jsxs)("div",{children:[Object(ae.jsx)("span",{children:"Like"}),Object(ae.jsxs)("span",{children:[" ",e.likesCount]})]})]})},Je=function(e){var t=e.profilePage.posts.map((function(e){return Object(ae.jsx)(Ve,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(ae.jsxs)("div",{className:Ge.a.postsBlock,children:[Object(ae.jsx)("h3",{children:"My Posts"}),Object(ae.jsxs)("div",{children:[Object(ae.jsx)("div",{children:Object(ae.jsx)("textarea",{placeholder:"Enter your thoughts",value:e.profilePage.newPostText,onChange:function(t){var s=t.currentTarget.value;e.updateNewPostText(s)}})}),Object(ae.jsx)("div",{children:Object(ae.jsx)("button",{onClick:function(){return e.addPost()},children:"Add Post"})})]}),Object(ae.jsx)("div",{className:Ge.a.posts,children:t})]})},ze=Object(de.b)((function(e){return{profilePage:e.profilePage}}),{addPost:function(){return{type:g}},updateNewPostText:function(e){return{type:h,newText:e}}})(Je),qe=function(e){return Object(ae.jsxs)("div",{children:[Object(ae.jsx)(Le,{profile:e.profile}),Object(ae.jsx)(ze,{})]})},Xe=function(e){Object(Pe.a)(s,e);var t=Object(Ne.a)(s);function s(){return Object(_e.a)(this,s),t.apply(this,arguments)}return Object(we.a)(s,[{key:"componentDidMount",value:function(){var e=Number(this.props.match.params.userId);e||(e=2),this.props.showUserProfile(e)}},{key:"render",value:function(){return Object(ae.jsx)(qe,Object(r.a)(Object(r.a)({},this.props),{},{profile:this.props.profile}))}}]),s}($.a.Component),Ke=Object(a.compose)(Object(de.b)((function(e){return{profile:e.profilePage.profile}}),{showUserProfile:function(e){return function(t){j(e).then((function(e){t({type:p,profile:e})}))}}}),ce.f)(Xe),Qe=s(34),Ye=s.n(Qe),Ze=function(e){return Object(ae.jsxs)("header",{className:Ye.a.header,children:[Object(ae.jsx)("img",{src:"http://www.logobook.com/wp-content/uploads/2016/10/Community_Builders_and_Building_Materials_logo.svg",alt:"logo"}),Object(ae.jsx)("div",{className:Ye.a.loginBlock,children:e.isAuth?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("div",{children:e.login}),Object(ae.jsx)("div",{children:"Logout"})]}):Object(ae.jsx)(Y.b,{to:"/login",children:"Login"})})]})},$e=function(e){Object(Pe.a)(s,e);var t=Object(Ne.a)(s);function s(){return Object(_e.a)(this,s),t.apply(this,arguments)}return Object(we.a)(s,[{key:"componentDidMount",value:function(){this.props.getAuth()}},{key:"render",value:function(){return Object(ae.jsx)(Ze,Object(r.a)({},this.props))}}]),s}($.a.Component),et=Object(de.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{setAuthUserData:G,getAuth:function(){return function(e){b().then((function(t){var s=t.data,n=s.id,a=s.email,i=s.login;0===t.resultCode&&e(G(n,a,i))}))}}})($e),tt=function(e){return Object(ae.jsx)("h1",{children:"Login"})},st=function(e){var t=e.store.getState();return Object(ae.jsxs)("div",{className:"app-wrapper",children:[Object(ae.jsx)(et,{}),Object(ae.jsx)(re,{state:t.sidebar}),Object(ae.jsxs)("div",{className:"app-wrapper-content",children:[Object(ae.jsx)(ce.b,{path:"/dialogs",render:function(){return Object(ae.jsx)(ve,{})}}),Object(ae.jsx)(ce.b,{path:"/profile/:userId?",render:function(){return Object(ae.jsx)(Ke,{})}}),Object(ae.jsx)(ce.b,{path:"/users",render:function(){return Object(ae.jsx)(Ie,{})}}),Object(ae.jsx)(ce.b,{path:"/login",render:function(){return Object(ae.jsx)(tt,{})}}),Object(ae.jsx)(ce.b,{path:"/news",component:oe}),Object(ae.jsx)(ce.b,{path:"/music",component:ue}),Object(ae.jsx)(ce.b,{path:"/settings",component:le})]})]})},nt=function(){Q.a.render(Object(ae.jsx)(Y.a,{children:Object(ae.jsx)(de.a,{store:X,children:Object(ae.jsx)(st,{store:X})})}),document.getElementById("root"))};nt(),X.subscribe(nt),n()}},[[77,1,2]]]);
//# sourceMappingURL=main.9c79265c.chunk.js.map